<div class="p-4">
  <form [formGroup]="loteForm" (ngSubmit)="onSubmit()">
    <!-- Firmante -->
    <div class="field mb-6">
      <app-user-autocomplete
        [label]="'Firmante *'"
        [placeholder]="'Busca la persona responsable de firmar la constancia'"
        [selectedValue]="selectedSignerName()"
        (onSelect)="onSignerSelect($event)"
        [styleClass]="'w-full'"
      ></app-user-autocomplete>
    </div>

    <!-- Nombre de la constancia e Instructor -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
      <div class="field">
        <label for="nombreLote" class="block text-sm font-medium mb-2"
          >Nombre de la constancia *</label
        >
        <input
          pInputText
          id="nombreLote"
          formControlName="nombreLote"
          class="w-full"
          placeholder="Nombre de la constancia"
        />
      </div>

      <div class="field">
        <label for="instructor" class="block text-sm font-medium mb-2">Nombre del instructor</label>
        <input
          pInputText
          id="instructor"
          formControlName="instructor"
          class="w-full"
          placeholder="Nombre del instructor"
        />
      </div>
    </div>

    <!-- Botones -->
    <div class="flex justify-end gap-4">
      <p-button
        label="Cancelar"
        icon="pi pi-times"
        severity="secondary"
        type="button"
        (onClick)="loteForm.reset(); constancias.clear()"
      ></p-button>
      <p-button
        label="Crear Lote"
        icon="pi pi-check"
        type="submit"
        [loading]="loading()"
        [disabled]="loteForm.invalid || constancias.length === 0"
      ></p-button>
    </div>
  </form>
</div>

<p-toast></p-toast>
